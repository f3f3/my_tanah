const version="1.1.0",namespace="yearpicker";jQuery||alert("yearpicker 1.1.0 requires jQuery");let defaults={year:null,startYear:null,endYear:null,itemTag:"li",selectedClass:"selected",disabledClass:"disabled",hideClass:"hide",template:'<div class="yearpicker-container">\n                    <div class="yearpicker-header">\n                        <div class="yearpicker-prev" data-view="yearpicker-prev">&lsaquo;</div>\n                        <div class="yearpicker-current" data-view="yearpicker-current">SelectedYear</div>\n                        <div class="yearpicker-next" data-view="yearpicker-next">&rsaquo;</div>\n                    </div>\n                    <div class="yearpicker-body">\n                        <ul class="yearpicker-year" data-view="years">\n                        </ul>\n                    </div>\n                </div>\n',onShow:null,onHide:null,onChange:null};const event_click="click.",event_focus="focus.",event_keyup="keyup.",event_selected="selected.",event_show="show.",event_hide="hide.",methods={showView:function(){const e=this;if(e.build||e.init(),e.show)return;e.show=!0;const t=e.$template,i=e.options;t.removeClass(i.hideClass).on("click.",$.proxy(e.click,e)),$(document).on("click.",this.onGlobalClick=$.proxy(e.globalClick,e)),i.onShow&&$.isFunction(i.onShow)&&i.onShow(e.year)},hideView:function(){const e=this;if(!e.show)return;const t=e.$template,i=e.options;t.addClass(i.hideClass).off("click.",e.click),$(document).off("click.",e.onGlobalClick),e.show=!1,i.onHide&&$.isFunction(i.onHide)&&i.onHide(e.year)},toggle:function(){this.show?this.hideView():this.show()}},handlers={click:function(e){const t=$(e.target),i=this.viewYear;if(!t.hasClass("disabled"))switch(t.data("view")){case"yearpicker-prev":var s=i-12;this.viewYear=s,this.renderYear();break;case"yearpicker-next":s=i+12;this.viewYear=s,this.renderYear();break;case"yearpicker-items":this.year=parseInt(t.html()),this.renderYear(),this.hideView()}},globalClick:function(e){let t=e.target,i=this.element,s=!0;if(t!==document){for(;t===i||1===$(t).closest(".yearpicker-header").length;){s=!1;break}t=t.parentNode}s&&this.hideView()}},render={renderYear:function(){const e=this,t=this.options,i=t.startYear,s=t.endYear,n=t.disabledClass,a=e.viewYear,r=e.year,o=(new Date).getFullYear(),l=[];let c=!1,d=!1,h=void 0;for(h=-5;h<=6;h++){let t=a+h,n=!1;i&&(n=t<i,-5===h&&(c=n)),!n&&s&&(n=t>s,6===h&&(d=n));const u=t===r,p="yearpicker-items";l.push(e.createItem({selected:u,disabled:n,text:a+h,view:n?"yearpicker-items disabled":p,highlighted:t===o}))}e.yearsPrev.toggleClass(n,c),e.yearsNext.toggleClass(n,d),e.yearsCurrent.html(r),e.yearsBody.html(l.join(" ")),e.setValue()}},Yearpicker=function(){function e(e,t){this.options=$.extend({},defaults,t),this.$element=$(e),this.element=e,this.build=!1,this.show=!1,this.startYear=null,this.endYear=null,this.$template=$(this.options.template),this.init()}return e.prototype={init:function(){const e=this,t=this.$element,i=this.options;if(this.build)return;e.build=!0;const s=i.startYear,n=i.endYear,a=e.getValue(),r=e.$template;let o=i.year;e.isInput=t.is("input")||t.is("textarea"),e.initialValue=a,e.oldValue=a,o=o||a||(new Date).getFullYear(),s&&(o<s&&(o=s),e.startYear=s),n&&(o>n&&(o=n),e.endYear=n),e.year=o,e.viewYear=o,e.initialYear=o,e.bind(),e.yearsPrev=r.find(".yearpicker-prev"),e.yearsCurrent=r.find(".yearpicker-current"),e.yearsNext=r.find(".yearpicker-next"),e.yearsBody=r.find(".yearpicker-year"),r.addClass(i.hideClass),t.after(r.addClass("yearpicker-dropdown")),e.renderYear()},bind:function(){const e=this,t=this.$element,i=this.options;$.isFunction(i.show)&&t.on("show.",i.show),$.isFunction(i.hide)&&t.on("hide.",i.hide),$.isFunction(i.click)&&t.on("click.",i.click),e.isInput?t.on("focus.",$.proxy(e.showView,e)):t.on("click.",$.proxy(e.showView,e))},getValue:function(){const e=this.$element,t=this.isInput?e.val():e.text();return parseInt(t)},setValue:function(){const e=this,t=this.$element,i=this.options,s=this.year,n=e.isInput?t.val():t.text();e.isInput?t.val(s):t.html(s),n!=s&&i.onChange&&$.isFunction(i.onChange)&&i.onChange(e.year),t.trigger("change")},trigger:function(e,t){t=t||this.year;const i=$.Event(e,t);return this.$element.trigger(i),i},createItem:function(e){const t=this.options,i=t.itemTag,s=[],n={text:"",view:"",selected:!1,disabled:!1,highlighted:!1};return $.extend(n,e),n.selected&&s.push(t.selectedClass),n.disabled&&s.push(t.disabledClass),`<${i} class="${n.view} ${s.join(" ")}" data-view="${n.view}">${n.text}</${i}>`}},e}();$.extend&&$.extend(Yearpicker.prototype,methods,render,handlers),$.fn&&($.fn.yearpicker=function(e){var t=void 0;return this.each(function(i,s){var n=$(s),a="destroy"===e,r=n.data(namespace);if(!r){if(a)return;r=new Yearpicker(s,e),n.data(namespace,r)}if("string"==typeof e){var o=r[e];$.isFunction(o)&&(t=o.apply(r,args),a&&n.removeData(namespace))}}),t?this:t},$.fn.yearpicker.constractor=Yearpicker);